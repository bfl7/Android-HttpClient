apply plugin: 'android-library'

android {
    compileSdkVersion 19
    buildToolsVersion '20.0.0'

    defaultConfig {
        minSdkVersion 7
        targetSdkVersion 19
        versionCode 3
        versionName '0.3'
        applicationId 'com.levelup.http'
    }

    sourceSets {
        main {
            manifest.srcFile 'AndroidManifest.xml'
            java.srcDirs = ['src']
            resources.srcDirs = ['src']
            aidl.srcDirs = ['src']
            renderscript.srcDirs = ['src']
            res.srcDirs = ['res']
            assets.srcDirs = ['assets']
        }
    }

    buildTypes {
        release {
            proguardFiles getDefaultProguardFile('proguard-project.txt'), 'proguard-rules.txt'
        }
    }
}

dependencies {
    def useLocalV4 = false
    allprojects {
        rootProject.allprojects.project.each {
            if (it.path == ':support-v4') {
                println 'Using local support-v4 library in ' + project.path
                useLocalV4 = true
            }
        }
    }

    if (useLocalV4) {
        compile project(':support-v4')
    } else {
        compile 'com.android.support:support-v4:20.+'
    }
    compile 'com.google.code.gson:gson:2.2.+'
    compile 'com.squareup.okio:okio:1.0.+'
    //compile 'com.koushikdutta.async:androidasync:1.2.+'
    //compile 'com.koushikdutta.ion:ion:1.2.+'
    compile files('libs/androidasync-1.2.6.jar')
    compile files('libs/ion-1.2.7.jar')
}
